# üìù –°–ü–ò–°–û–ö: –ì–î–ï –ó–ê–ú–ï–ù–ò–¢–¨ IP –ù–ê –î–û–ú–ï–ù

## üéØ –¶–ï–õ–¨
–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –º–µ—Å—Ç, –≥–¥–µ –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å IP –∞–¥—Ä–µ—Å –Ω–∞ –¥–æ–º–µ–Ω –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DNS.

---

## üìã –ú–ï–°–¢–ê –î–õ–Ø –ó–ê–ú–ï–ù–´

### 1. BACKEND .ENV –§–ê–ô–õ

**–§–∞–π–ª:** `~/ringo-uchet/backend/.env`

**–ù–∞–π—Ç–∏ –∏ –∑–∞–º–µ–Ω–∏—Ç—å:**

**–ë—ã–ª–æ:**
```env
DJANGO_ALLOWED_HOSTS=123.45.67.89
ALLOWED_HOSTS=123.45.67.89
CORS_ALLOWED_ORIGINS=http://123.45.67.89
```

**–°—Ç–∞–ª–æ:**
```env
DJANGO_ALLOWED_HOSTS=–≤–∞—à-–¥–æ–º–µ–Ω.ru,www.–≤–∞—à-–¥–æ–º–µ–Ω.ru,123.45.67.89
ALLOWED_HOSTS=–≤–∞—à-–¥–æ–º–µ–Ω.ru,www.–≤–∞—à-–¥–æ–º–µ–Ω.ru,123.45.67.89
CORS_ALLOWED_ORIGINS=http://–≤–∞—à-–¥–æ–º–µ–Ω.ru,http://www.–≤–∞—à-–¥–æ–º–µ–Ω.ru,http://123.45.67.89
```

**–í–∞–∂–Ω–æ:** –û—Å—Ç–∞–≤—å—Ç–µ IP —Ç–æ–∂–µ (–Ω–∞ —Å–ª—É—á–∞–π –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º —Å –¥–æ–º–µ–Ω–æ–º).

---

### 2. FLUTTER –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

**–§–∞–π–ª:** `mobile/lib/core/config/app_config.dart`

**–ù–∞–π—Ç–∏ –∏ –∑–∞–º–µ–Ω–∏—Ç—å:**

**–ë—ã–ª–æ:**
```dart
static AppConfig get prod => const AppConfig(
  flavor: AppFlavor.prod,
  apiBaseUrl: 'http://123.45.67.89:8001',
  // ...
);
```

**–°—Ç–∞–ª–æ (–ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSL):**
```dart
static AppConfig get prod => const AppConfig(
  flavor: AppFlavor.prod,
  apiBaseUrl: 'https://–≤–∞—à-–¥–æ–º–µ–Ω.ru',
  // ...
);
```

**–ü–æ–∫–∞ SSL –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω:**
```dart
apiBaseUrl: 'http://–≤–∞—à-–¥–æ–º–µ–Ω.ru',
```

**–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSL:**
```dart
apiBaseUrl: 'https://–≤–∞—à-–¥–æ–º–µ–Ω.ru',
```

---

### 3. NGINX –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

**–§–∞–π–ª:** `/etc/nginx/sites-available/ringo-uchet`

**–ù–∞–π—Ç–∏ –∏ –∑–∞–º–µ–Ω–∏—Ç—å:**

**–í HTTP –±–ª–æ–∫–µ:**
```nginx
server_name 123.45.67.89;
```

**–ù–∞:**
```nginx
server_name –≤–∞—à-–¥–æ–º–µ–Ω.ru www.–≤–∞—à-–¥–æ–º–µ–Ω.ru 123.45.67.89;
```

**–í HTTPS –±–ª–æ–∫–µ:**
```nginx
server_name 123.45.67.89;
```

**–ù–∞:**
```nginx
server_name –≤–∞—à-–¥–æ–º–µ–Ω.ru www.–≤–∞—à-–¥–æ–º–µ–Ω.ru;
```

**–ò –ø—É—Ç–∏ –∫ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º:**
```nginx
ssl_certificate /etc/letsencrypt/live/–≤–∞—à-–¥–æ–º–µ–Ω.ru/fullchain.pem;
ssl_certificate_key /etc/letsencrypt/live/–≤–∞—à-–¥–æ–º–µ–Ω.ru/privkey.pem;
```

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –ó–ê–ú–ï–ù–´

- [ ] Backend .env —Ñ–∞–π–ª - `DJANGO_ALLOWED_HOSTS`
- [ ] Backend .env —Ñ–∞–π–ª - `CORS_ALLOWED_ORIGINS` (–µ—Å–ª–∏ –µ—Å—Ç—å)
- [ ] Flutter –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è - `apiBaseUrl` –≤ `app_config.dart`
- [ ] Flutter –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω –∏ –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- [ ] Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è - `server_name` –≤ HTTP –±–ª–æ–∫–µ
- [ ] Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è - `server_name` –≤ HTTPS –±–ª–æ–∫–µ
- [ ] Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è - –ø—É—Ç–∏ –∫ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º
- [ ] Backend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è .env

---

## üìù –ü–û–†–Ø–î–û–ö –î–ï–ô–°–¢–í–ò–ô

1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å DNS –∑–∞–ø–∏—Å–∏** (A –∑–∞–ø–∏—Å—å –¥–ª—è –¥–æ–º–µ–Ω–∞)
2. **–î–æ–∂–¥–∞—Ç—å—Å—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è DNS** (5-30 –º–∏–Ω—É—Ç)
3. **–ó–∞–º–µ–Ω–∏—Ç—å IP –Ω–∞ –¥–æ–º–µ–Ω –≤ Backend .env**
4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Backend**
5. **–ó–∞–º–µ–Ω–∏—Ç—å IP –Ω–∞ –¥–æ–º–µ–Ω –≤ Flutter –∫–æ–Ω—Ñ–∏–≥–µ**
6. **–ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å Flutter Web**
7. **–û–±–Ω–æ–≤–∏—Ç—å Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é**
8. **–ü–æ–ª—É—á–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç**
9. **–í–∫–ª—é—á–∏—Ç—å HTTPS —Ä–µ–¥–∏—Ä–µ–∫—Ç**
10. **–û–±–Ω–æ–≤–∏—Ç—å Flutter –∫–æ–Ω—Ñ–∏–≥ –Ω–∞ HTTPS**
11. **–ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å Flutter Web**

---

**–°—Ç–∞—Ç—É—Å:** üìù –°–ø–∏—Å–æ–∫ –º–µ—Å—Ç –¥–ª—è –∑–∞–º–µ–Ω—ã

