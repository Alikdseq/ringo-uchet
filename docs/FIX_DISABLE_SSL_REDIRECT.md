# üîß –û–¢–ö–õ–Æ–ß–ï–ù–ò–ï HTTPS –†–ï–î–ò–†–ï–ö–¢–ê (–í–†–ï–ú–ï–ù–ù–û)

## ‚úÖ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç! ‚úÖ (–∫–æ–¥ 200 –≤ –ª–æ–≥–∞—Ö)
- Nginx —Ä–∞–±–æ—Ç–∞–µ—Ç! ‚úÖ
- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è! ‚úÖ

## ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê
Django —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç API –Ω–∞ HTTPS, –Ω–æ SSL –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω.

---

## üîß –†–ï–®–ï–ù–ò–ï: –û—Ç–∫–ª—é—á–∏—Ç—å SECURE_SSL_REDIRECT

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ docker-compose

**–ò–∑–º–µ–Ω–∏—Ç–µ docker-compose.prod.yml:**

```bash
cd ~/ringo-uchet/backend
nano docker-compose.prod.yml
```

**–ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é `api:` –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ `environment`:**

```yaml
  api:
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ...
    environment:
      - DJANGO_SETTINGS_MODULE=ringo_backend.settings.prod
      - SECURE_SSL_REDIRECT=False  # –î–û–ë–ê–í–¨–¢–ï –≠–¢–£ –°–¢–†–û–ö–£
```

**–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ:**

```bash
docker compose -f docker-compose.prod.yml restart api
```

---

### –°–ø–æ—Å–æ–± 2: –ò–∑–º–µ–Ω–∏—Ç—å prod.py –Ω–∞–ø—Ä—è–º—É—é

**–í—Ä–µ–º–µ–Ω–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫:**

```bash
cd ~/ringo-uchet/backend
docker compose -f docker-compose.prod.yml exec api sed -i 's/SECURE_SSL_REDIRECT = True/SECURE_SSL_REDIRECT = False/' ringo_backend/settings/prod.py
docker compose -f docker-compose.prod.yml restart api
```

---

### –°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ .env —Ñ–∞–π–ª

**–ù–æ —ç—Ç–æ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–ø—Ä—è–º—É—é, –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–¥ –Ω–∞—Å—Ç—Ä–æ–µ–∫.**

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê

**–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞:**

```bash
curl -I http://127.0.0.1/api/health/
```

**–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å `200 OK` –∏–ª–∏ `404`, –Ω–æ –ù–ï `301`.**

---

## üí° –í–ê–ñ–ù–û

**–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –≤–µ—Ä–Ω–∏—Ç–µ –æ–±—Ä–∞—Ç–Ω–æ:**

```yaml
SECURE_SSL_REDIRECT=True
```

**–ò–ª–∏ —É–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –∏–∑ docker-compose.**

---

## üìù –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°

- ‚úÖ –§—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç (http://–í–ê–®_IP)
- ‚ö†Ô∏è API —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç –Ω–∞ HTTPS
- üîß –ù—É–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç

