# üìä –ê–ù–ê–õ–ò–ó –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò

## ‚úÖ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢ –•–û–†–û–®–û

1. **Service Worker –∞–∫—Ç–∏–≤–µ–Ω** ‚úÖ
   - –†–µ—Å—É—Ä—Å—ã –∫—ç—à–∏—Ä—É—é—Ç—Å—è (–≤–∏–¥–Ω–æ `(–∫–µ—à ...)` –≤ Network)
   - Service Worker –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã

2. **Cumulative Layout Shift: 0** ‚úÖ
   - –ù–µ—Ç —Å–º–µ—â–µ–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
   - –û—Ç–ª–∏—á–Ω—ã–π UX

3. **First Contentful Paint: 1,7 —Å–µ–∫** ‚úÖ
   - –í –ø—Ä–µ–¥–µ–ª–∞—Ö –Ω–æ—Ä–º—ã (<1.8 —Å–µ–∫)

4. **Performance Score: 86** ‚úÖ
   - –•–æ—Ä–æ—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (—Ü–µ–ª—å >90)

---

## ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–´ –î–õ–Ø –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. ‚ùå Largest Contentful Paint: Error! NO_LCP
**–ü—Ä–æ–±–ª–µ–º–∞:** Lighthouse –Ω–µ –º–æ–∂–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≥–ª–∞–≤–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ
- –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏–ª–∏ —Å–∫—Ä—ã—Ç
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Flutter Web —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≥–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, —ç–∫—Ä–∞–Ω –ª–æ–≥–∏–Ω–∞) –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–æ
- –î–æ–±–∞–≤–∏—Ç—å loading skeleton –∏–ª–∏ placeholder
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—á–∞–ª—å–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É Flutter

---

### 2. ‚ö†Ô∏è Speed Index: 7,9 —Å–µ–∫ (—Ü–µ–ª—å: <3.4 —Å–µ–∫)
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–Ω—Ç–µ–Ω—Ç –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω–æ.

**–ü—Ä–∏—á–∏–Ω—ã:**
- –ë–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞ (10,5 –ú–ë —Ä–µ—Å—É—Ä—Å–æ–≤)
- –ú–Ω–æ–≥–æ JavaScript —Ñ–∞–π–ª–æ–≤ (33-34 –∑–∞–ø—Ä–æ—Å–∞)
- Flutter Web –±–∞–Ω–¥–ª –±–æ–ª—å—à–æ–π –ø–æ —Ä–∞–∑–º–µ—Ä—É

**–†–µ—à–µ–Ω–∏—è:**

#### A. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –±–∞–Ω–¥–ª–∞:
```bash
# –í mobile/
flutter build web --release --base-href / --web-renderer canvaskit
# –ò–ª–∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å html renderer (–º–µ–Ω—å—à–µ —Ä–∞–∑–º–µ—Ä):
flutter build web --release --base-href / --web-renderer html
```

#### B. Code Splitting (—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–¥–∞):
- Flutter Web –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞–µ—Ç code splitting
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –Ω–µ–Ω—É–∂–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

#### C. –°–∂–∞—Ç–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (Gzip/Brotli):
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Nginx —Å–∂–∏–º–∞–µ—Ç —Ñ–∞–π–ª—ã:
```nginx
gzip on;
gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;
gzip_min_length 1000;
gzip_comp_level 6;
```

---

### 3. ‚ö†Ô∏è –û–±—â–µ–µ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: 5,44 —Å–µ–∫
**–¶–µ–ª—å:** <3 —Å–µ–∫

**–ü—Ä–æ–±–ª–µ–º—ã:**
- 33-34 –∑–∞–ø—Ä–æ—Å–∞ (–º–Ω–æ–≥–æ)
- 4,6 –ú–ë –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ (–º–æ–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å)
- 10,5 –ú–ë —Ä–µ—Å—É—Ä—Å–æ–≤ (—Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ)

**–†–µ—à–µ–Ω–∏—è:**

#### A. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤:
- –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –º–µ–ª–∫–∏–µ JS —Ñ–∞–π–ª—ã (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTP/2 (—É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ HTTPS)
- Preload –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

#### B. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞:
- –ú–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è —É–∂–µ –≤–∫–ª—é—á–µ–Ω–∞ (`--release`)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å tree-shaking (—É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CDN –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### C. Lazy Loading:
- –ó–∞–≥—Ä—É–∂–∞—Ç—å –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å deferred imports –≤ Flutter

---

## üîß –ö–û–ù–ö–†–ï–¢–ù–´–ï –®–ê–ì–ò –î–õ–Ø –£–õ–£–ß–®–ï–ù–ò–Ø

### –®–ê–ì 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∂–∞—Ç–∏–µ –≤ Nginx

**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
```bash
sudo nano /etc/nginx/sites-available/ringo-uchet
```

**–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å:**
```nginx
gzip on;
gzip_vary on;
gzip_proxied any;
gzip_comp_level 6;
gzip_types text/plain text/css text/xml text/javascript 
           application/json application/javascript application/xml+rss 
           application/rss+xml font/truetype font/opentype 
           application/vnd.ms-fontobject image/svg+xml;
gzip_min_length 1000;
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
```bash
sudo nginx -t
sudo systemctl reload nginx
```

---

### –®–ê–ì 2: –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏

**–ù–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:**
```powershell
cd C:\ringo-uchet\mobile

# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å HTML renderer (–º–µ–Ω—å—à–µ —Ä–∞–∑–º–µ—Ä):
flutter build web --release --base-href / --web-renderer html

# –ò–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π CanvasKit:
flutter build web --release --base-href / --web-renderer canvaskit --dart-define=FLUTTER_WEB_USE_SKIA=false
```

**HTML renderer –æ–±—ã—á–Ω–æ:**
- –ú–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞ (–Ω–∞ 30-50%)
- –ë—ã—Å—Ç—Ä–µ–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- –ù–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω–µ–µ –ø–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è

---

### –®–ê–ì 3: –î–æ–±–∞–≤–∏—Ç—å Preload –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

**–í `mobile/web/index.html` –¥–æ–±–∞–≤–∏—Ç—å:**
```html
<head>
  <!-- ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ... -->
  
  <!-- Preload –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ -->
  <link rel="preload" href="/flutter_bootstrap.js" as="script">
  <link rel="preload" href="/main.dart.js" as="script">
</head>
```

---

### –®–ê–ì 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞

**–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏:**
```powershell
cd C:\ringo-uchet\mobile\build\web
Get-ChildItem -Recurse | Measure-Object -Property Length -Sum
```

**–ò–ª–∏:**
```powershell
# –†–∞–∑–º–µ—Ä main.dart.js (–≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª)
(Get-Item main.dart.js).Length / 1MB
```

**–¶–µ–ª—å:** <2 –ú–ë –¥–ª—è main.dart.js

---

## üìà –¶–ï–õ–ï–í–´–ï –ü–û–ö–ê–ó–ê–¢–ï–õ–ò

### –¢–µ–∫—É—â–∏–µ:
- ‚úÖ Performance Score: **86** (—Ö–æ—Ä–æ—à–æ)
- ‚úÖ First Contentful Paint: **1,7 —Å–µ–∫** (—Ö–æ—Ä–æ—à–æ)
- ‚ö†Ô∏è Speed Index: **7,9 —Å–µ–∫** (–Ω—É–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å –¥–æ <3.4)
- ‚ùå Largest Contentful Paint: **Error** (–Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å)
- ‚ö†Ô∏è –û–±—â–µ–µ –≤—Ä–µ–º—è: **5,44 —Å–µ–∫** (–Ω—É–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å –¥–æ <3)

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π:
- üéØ Performance Score: **>90**
- üéØ First Contentful Paint: **<1.5 —Å–µ–∫**
- üéØ Speed Index: **<3.4 —Å–µ–∫**
- üéØ Largest Contentful Paint: **<2.5 —Å–µ–∫**
- üéØ –û–±—â–µ–µ –≤—Ä–µ–º—è: **<3 —Å–µ–∫**

---

## üöÄ –ë–´–°–¢–†–û–ï –£–õ–£–ß–®–ï–ù–ò–ï (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

1. **–í–∫–ª—é—á–∏—Ç—å Gzip –≤ Nginx** (5 –º–∏–Ω—É—Ç) ‚Üí —É–º–µ–Ω—å—à–∏—Ç —Ä–∞–∑–º–µ—Ä –Ω–∞ 60-70%
2. **–ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å —Å HTML renderer** (10 –º–∏–Ω—É—Ç) ‚Üí —É–º–µ–Ω—å—à–∏—Ç —Ä–∞–∑–º–µ—Ä –Ω–∞ 30-50%
3. **–î–æ–±–∞–≤–∏—Ç—å Preload** (2 –º–∏–Ω—É—Ç—ã) ‚Üí —É—Å–∫–æ—Ä–∏—Ç –∑–∞–≥—Ä—É–∑–∫—É –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ —ç—Ç–∏—Ö 3 —à–∞–≥–æ–≤:**
- Speed Index: ~4-5 —Å–µ–∫ (–≤–º–µ—Å—Ç–æ 7,9)
- –û–±—â–µ–µ –≤—Ä–µ–º—è: ~3-4 —Å–µ–∫ (–≤–º–µ—Å—Ç–æ 5,44)
- Performance Score: ~88-92

---

**–ù–∞—á–Ω–∏—Ç–µ —Å –®–ê–ì–ê 1 (–ø—Ä–æ–≤–µ—Ä–∫–∞ Gzip –≤ Nginx) - —ç—Ç–æ –¥–∞—Å—Ç –±—ã—Å—Ç—Ä—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!**

