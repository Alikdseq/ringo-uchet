# üìù –ü–û–®–ê–ì–û–í–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø - –ß–¢–û –î–ï–õ–ê–¢–¨ –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°

## üéØ –¶–ï–õ–¨
–ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ñ–∞–π–ª `docker-compose.prod.yml` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, —á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å API –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.

---

## üìã –®–ê–ì 1: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å:
–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Ñ–∞–π–ª —Å –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

### –ì–¥–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å:
**–ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ** (Windows PowerShell)

### –ö–æ–º–∞–Ω–¥–∞:
```powershell
scp C:\ringo-uchet\backend\docker-compose.prod.yml root@91.229.90.72:~/ringo-uchet/backend/docker-compose.prod.yml
```

### –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:
- –í–∞—Å –ø–æ–ø—Ä–æ—Å—è—Ç –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
- –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å (–æ–Ω –Ω–µ –±—É–¥–µ—Ç –≤–∏–¥–µ–Ω –ø—Ä–∏ –≤–≤–æ–¥–µ - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)
- –§–∞–π–ª —Å–∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ "scp –Ω–µ –Ω–∞–π–¥–µ–Ω":
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ WinSCP –∏–ª–∏ FileZilla:
1. –û—Ç–∫—Ä–æ–π—Ç–µ WinSCP/FileZilla
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É:
   - –•–æ—Å—Ç: `91.229.90.72`
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `root`
   - –ü–∞—Ä–æ–ª—å: –≤–∞—à –ø–∞—Ä–æ–ª—å
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `/root/ringo-uchet/backend/`
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `docker-compose.prod.yml` —Å –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ (`C:\ringo-uchet\backend\docker-compose.prod.yml`) –Ω–∞ —Å–µ—Ä–≤–µ—Ä

---

## üìã –®–ê–ì 2: –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å:
–û—Ç–∫—Ä—ã—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

### –ì–¥–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å:
**–ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ** (Windows PowerShell)

### –ö–æ–º–∞–Ω–¥–∞:
```powershell
ssh root@91.229.90.72
```

### –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:
- –í–∞—Å –ø–æ–ø—Ä–æ—Å—è—Ç –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å
- –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å
- –í—ã –æ–∫–∞–∂–µ—Ç–µ—Å—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è –Ω–∞ `root@wflubiexic:~#`)

---

## üìã –®–ê–ì 3: –ü–µ—Ä–µ–π—Ç–∏ –≤ –Ω—É–∂–Ω—É—é –ø–∞–ø–∫—É

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å:
–ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É —Å –ø—Ä–æ–µ–∫—Ç–æ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

### –ì–¥–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å:
**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ** (–ø–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ ssh)

### –ö–æ–º–∞–Ω–¥–∞:
```bash
cd ~/ringo-uchet/backend
```

### –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:
- –í—ã –ø–µ—Ä–µ–π–¥–µ—Ç–µ –≤ –ø–∞–ø–∫—É `/root/ringo-uchet/backend/`
- –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –ø–æ–∫–∞–∂–µ—Ç —Ç–µ–∫—É—â—É—é –ø–∞–ø–∫—É

---

## üìã –®–ê–ì 4: –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é —Å—Ç–∞—Ä–æ–≥–æ —Ñ–∞–π–ª–∞

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å:
–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞—Ä—ã–π —Ñ–∞–π–ª –Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥–µ—Ç –Ω–µ —Ç–∞–∫.

### –ì–¥–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å:
**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ**

### –ö–æ–º–∞–Ω–¥–∞:
```bash
cp docker-compose.prod.yml docker-compose.prod.yml.backup
```

### –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:
- –°–æ–∑–¥–∞—Å—Ç—Å—è –∫–æ–ø–∏—è —Ñ–∞–π–ª–∞ —Å –∏–º–µ–Ω–µ–º `docker-compose.prod.yml.backup`
- –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥–µ—Ç –Ω–µ —Ç–∞–∫, –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏

---

## üìã –®–ê–ì 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ñ–∞–π–ª –æ–±–Ω–æ–≤–ª–µ–Ω

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å:
–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–æ–≤—ã–π —Ñ–∞–π–ª —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

### –ì–¥–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å:
**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ**

### –ö–æ–º–∞–Ω–¥–∞:
```bash
head -5 docker-compose.prod.yml
```

### –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
services:
  db:
    image: postgres:15-alpine
    restart: unless-stopped
    environment:
```

### –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ `version: '3.8'`:
–§–∞–π–ª –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ –®–ê–ì–£ 1 –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –µ—â–µ —Ä–∞–∑.

---

## üìã –®–ê–ì 6: –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å:
–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã.

### –ì–¥–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å:
**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ**

### –ö–æ–º–∞–Ω–¥–∞:
```bash
docker compose -f docker-compose.prod.yml down
```

### –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:
- –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –æ—Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è
- –ú–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥
- –í –∫–æ–Ω—Ü–µ —É–≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—Å—Ç–∞–Ω–æ–≤–∫–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
docker compose -f docker-compose.prod.yml ps
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –∏–ª–∏ "no services".

---

## üìã –®–ê–ì 7: –°–æ–±—Ä–∞—Ç—å Docker –æ–±—Ä–∞–∑—ã

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å:
–°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏–∑ Dockerfile.

### –ì–¥–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å:
**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ**

### –ö–æ–º–∞–Ω–¥–∞:
```bash
docker compose -f docker-compose.prod.yml build --no-cache
```

### –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:
- –ù–∞—á–Ω–µ—Ç—Å—è —Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
- –≠—Ç–æ –∑–∞–π–º–µ—Ç 3-5 –º–∏–Ω—É—Ç
- –í—ã —É–≤–∏–¥–∏—Ç–µ –º–Ω–æ–≥–æ —Å—Ç—Ä–æ–∫ —Å –ø—Ä–æ—Ü–µ—Å—Å–æ–º —Å–±–æ—Ä–∫–∏
- –í –∫–æ–Ω—Ü–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "Successfully built" –∏–ª–∏ "Successfully tagged"

### –ï—Å–ª–∏ –æ—à–∏–±–∫–∞:
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–∞–ø–∫–µ:
```bash
pwd
```
–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: `/root/ringo-uchet/backend`

---

## üìã –®–ê–ì 8: –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å:
–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å –Ω–æ–≤—ã–º —Ñ–∞–π–ª–æ–º.

### –ì–¥–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å:
**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ**

### –ö–æ–º–∞–Ω–¥–∞:
```bash
docker compose -f docker-compose.prod.yml up -d
```

### –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–∞—á–Ω—É—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è
- `-d` –æ–∑–Ω–∞—á–∞–µ—Ç "–≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ"
- –ß–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ –≤—Å–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è

---

## üìã –®–ê–ì 9: –ü–æ–¥–æ–∂–¥–∞—Ç—å –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å:
–ü–æ–¥–æ–∂–¥–∞—Ç—å –ø–æ–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–ø—É—Å—Ç—è—Ç—Å—è –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Ö —Å—Ç–∞—Ç—É—Å.

### –ì–¥–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å:
**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ**

### –ö–æ–º–∞–Ω–¥–∞ 1 (–ø–æ–¥–æ–∂–¥–∞—Ç—å):
```bash
sleep 15
```

### –ö–æ–º–∞–Ω–¥–∞ 2 (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å):
```bash
docker compose -f docker-compose.prod.yml ps
```

### –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω—ã:
- `backend-db-1` - —Å—Ç–∞—Ç—É—Å `Up` –∏ `(healthy)`
- `backend-redis-1` - —Å—Ç–∞—Ç—É—Å `Up` –∏ `(healthy)`
- `backend-minio-1` - —Å—Ç–∞—Ç—É—Å `Up` –∏ `(healthy)`
- `backend-api-1` - —Å—Ç–∞—Ç—É—Å `Up`
- `backend-celery-worker-1` - —Å—Ç–∞—Ç—É—Å `Up`
- `backend-celery-beat-1` - —Å—Ç–∞—Ç—É—Å `Up`

### –ï—Å–ª–∏ –∫–∞–∫–æ–π-—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è:
–°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ (–®–ê–ì 10)

---

## üìã –®–ê–ì 10: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ API

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å:
–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ API –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫.

### –ì–¥–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å:
**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ**

### –ö–æ–º–∞–Ω–¥–∞:
```bash
docker compose -f docker-compose.prod.yml logs api --tail 50
```

### –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
- –ù–µ—Ç –æ—à–∏–±–æ–∫ –∫—Ä–∞—Å–Ω—ã–º —Ü–≤–µ—Ç–æ–º
- –í–∏–¥–Ω—ã —Å—Ç—Ä–æ–∫–∏ —Ç–∏–ø–∞ "Starting gunicorn"
- –í–∏–¥–Ω—ã —Å—Ç—Ä–æ–∫–∏ "Booting worker"

### –ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏:
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏—Ö –∏ —Å–æ–æ–±—â–∏—Ç–µ –º–Ω–µ.

---

## üìã –®–ê–ì 11: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ API —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å:
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ API –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã.

### –ì–¥–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å:
**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ**

### –ö–æ–º–∞–Ω–¥–∞:
```bash
curl http://localhost:8001/api/health/
```

### –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```json
{"status": "ok"}
```

### –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ "Connection refused":
–ü–æ–¥–æ–∂–¥–∏—Ç–µ –µ—â–µ 30 —Å–µ–∫—É–Ω–¥ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞:
```bash
sleep 30
curl http://localhost:8001/api/health/
```

---

## üìã –®–ê–ì 12: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å:
–ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å.

### –ì–¥–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å:
**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ**

### –ö–æ–º–∞–Ω–¥–∞ 1 (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏):
```bash
docker compose -f docker-compose.prod.yml exec api python manage.py showmigrations
```

### –ö–æ–º–∞–Ω–¥–∞ 2 (–ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏):
```bash
docker compose -f docker-compose.prod.yml exec api python manage.py migrate
```

### –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:
- –ü—Ä–æ–≤–µ—Ä—è—Ç—Å—è –∫–∞–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- –ü—Ä–∏–º–µ–Ω—è—Ç—Å—è –Ω–µ–ø—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏
- –í –∫–æ–Ω—Ü–µ –±—É–¥–µ—Ç "OK" –∏–ª–∏ —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê - –í–°–ï –õ–ò –†–ê–ë–û–¢–ê–ï–¢

### –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:

**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ–¥—Ä—è–¥:**

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker compose -f docker-compose.prod.yml ps

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å health endpoint
curl http://localhost:8001/api/health/

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å—Ç—Ä–æ–∫)
docker compose -f docker-compose.prod.yml logs api --tail 20
```

### –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
- ‚úÖ –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ —Å—Ç–∞—Ç—É—Å–µ `Up`
- ‚úÖ Health endpoint –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{"status": "ok"}`
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö
- ‚úÖ –ù–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø—Ä–æ `version` (WARN –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å)

---

## üîÑ –ï–°–õ–ò –ß–¢–û-–¢–û –ü–û–®–õ–û –ù–ï –¢–ê–ö

### –û—Ç–∫–∞—Ç –∫ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏:

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd ~/ringo-uchet/backend
cp docker-compose.prod.yml.backup docker-compose.prod.yml
docker compose -f docker-compose.prod.yml up -d
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–µ —Ç–∞–∫:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker compose -f docker-compose.prod.yml logs

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å
docker compose -f docker-compose.prod.yml logs api
docker compose -f docker-compose.prod.yml logs db
```

---

## üìû –ï–°–õ–ò –ó–ê–°–¢–†–Ø–õ–ò

–ï—Å–ª–∏ –Ω–∞ –∫–∞–∫–æ–º-—Ç–æ —à–∞–≥–µ –≤–æ–∑–Ω–∏–∫–ª–∞ –ø—Ä–æ–±–ª–µ–º–∞:

1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ—á–Ω—É—é –æ—à–∏–±–∫—É** (–≤–µ—Å—å —Ç–µ–∫—Å—Ç –∫—Ä–∞—Å–Ω—ã–º)
2. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É**, –∫–æ—Ç–æ—Ä—É—é –≤—ã–ø–æ–ª–Ω—è–ª–∏
3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—ã–≤–æ–¥** –∫–æ–º–∞–Ω–¥—ã `docker compose -f docker-compose.prod.yml ps`
4. **–°–æ–æ–±—â–∏—Ç–µ –º–Ω–µ** - —è –ø–æ–º–æ–≥—É —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è

---

## üéØ –ö–†–ê–¢–ö–ê–Ø –í–ï–†–°–ò–Ø (–¥–ª—è –æ–ø—ã—Ç–Ω—ã—Ö)

–ï—Å–ª–∏ –≤—ã —É–≤–µ—Ä–µ–Ω—ã, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ–¥—Ä—è–¥:

**–ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:**
```powershell
scp C:\ringo-uchet\backend\docker-compose.prod.yml root@91.229.90.72:~/ringo-uchet/backend/docker-compose.prod.yml
```

**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
```bash
cd ~/ringo-uchet/backend && \
cp docker-compose.prod.yml docker-compose.prod.yml.backup && \
docker compose -f docker-compose.prod.yml down && \
docker compose -f docker-compose.prod.yml build --no-cache && \
docker compose -f docker-compose.prod.yml up -d && \
sleep 15 && \
docker compose -f docker-compose.prod.yml ps && \
curl http://localhost:8001/api/health/
```

---

**–ù–∞—á–Ω–∏—Ç–µ —Å –®–ê–ì–ê 1 –∏ –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ –ø–æ –ø–æ—Ä—è–¥–∫—É!** üöÄ

