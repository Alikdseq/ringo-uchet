# ‚úÖ –ü–†–û–í–ï–†–ö–ê GZIP –ò –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

## ‚úÖ –®–ê–ì 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx

**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:**

```bash
sudo nginx -t
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
```

**–ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ - –∏—Å–ø—Ä–∞–≤—å—Ç–µ –∏—Ö –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ.**

---

## ‚úÖ –®–ê–ì 2: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Nginx

**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:**

```bash
sudo systemctl reload nginx
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å:**

```bash
sudo systemctl status nginx
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `active (running)`**

---

## ‚úÖ –®–ê–ì 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Gzip —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:**

```bash
curl -H "Accept-Encoding: gzip" -I https://ringoouchet.ru/main.dart.js | grep -i content-encoding
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
Content-Encoding: gzip
```

**–ò–ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Å–∂–∞—Ç–∏—è:**

```bash
# –†–∞–∑–º–µ—Ä –±–µ–∑ —Å–∂–∞—Ç–∏—è
curl -s https://ringoouchet.ru/main.dart.js | wc -c

# –†–∞–∑–º–µ—Ä —Å–æ —Å–∂–∞—Ç–∏–µ–º
curl -s -H "Accept-Encoding: gzip" --compressed https://ringoouchet.ru/main.dart.js | wc -c
```

**–í—Ç–æ—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–µ–Ω—å—à–µ –ø–µ—Ä–≤–æ–≥–æ –Ω–∞ 60-70%.**

---

## ‚úÖ –®–ê–ì 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ

**–ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ `https://ringoouchet.ru`
2. `F12` ‚Üí –≤–∫–ª–∞–¥–∫–∞ **Network**
3. `Ctrl+F5` (–∂–µ—Å—Ç–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞)
4. –ù–∞–π–¥–∏—Ç–µ —Ñ–∞–π–ª `main.dart.js`
5. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ
6. –í —Ä–∞–∑–¥–µ–ª–µ **Response Headers** –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
   ```
   content-encoding: gzip
   ```

**–í –∫–æ–ª–æ–Ω–∫–µ Size –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–≤–∞ –∑–Ω–∞—á–µ–Ω–∏—è:**
- –ü–µ—Ä–≤–æ–µ (–º–µ–Ω—å—à–µ–µ) - —Ä–∞–∑–º–µ—Ä —Å–æ —Å–∂–∞—Ç–∏–µ–º
- –í—Ç–æ—Ä–æ–µ (–±–æ–ª—å—à–µ–µ) - —Ä–µ–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä
- –ù–∞–ø—Ä–∏–º–µ—Ä: `850 KB / 2.5 MB` ‚úÖ

---

## üöÄ –®–ê–ì 5: –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å Flutter —Å HTML renderer

**–≠—Ç–æ —É–º–µ–Ω—å—à–∏—Ç —Ä–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞ –Ω–∞ 30-50%!**

### –ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:

```powershell
cd C:\ringo-uchet\mobile

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å —Å HTML renderer (–º–µ–Ω—å—à–µ —Ä–∞–∑–º–µ—Ä)
flutter build web --release --base-href / --web-renderer html
```

‚è±Ô∏è **–ó–∞–π–º–µ—Ç 3-5 –º–∏–Ω—É—Ç**

**HTML renderer:**
- ‚úÖ –ú–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä (–Ω–∞ 30-50%)
- ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω–µ–µ –ø–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è (–Ω–æ –æ–±—ã—á–Ω–æ –Ω–µ –∑–∞–º–µ—Ç–Ω–æ)

---

## ‚úÖ –®–ê–ì 6: –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä

**–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏–∑ `docs/DEPLOY_OPTIMIZATIONS.md`:**

### –ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:

```powershell
cd C:\ringo-uchet\mobile\build
Compress-Archive -Path web\* -DestinationPath web-build-optimized.zip -Force
scp web-build-optimized.zip root@91.229.90.72:~/web-build-optimized.zip
```

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
cd ~
sudo cp -r /var/www/ringo-uchet/* /var/www/ringo-uchet-backup/ 2>/dev/null || true
sudo rm -rf /var/www/ringo-uchet/*
unzip -o ~/web-build-optimized.zip -d /tmp/flutter-web/
sudo mv /tmp/flutter-web/web/* /var/www/ringo-uchet/ 2>/dev/null || sudo mv /tmp/flutter-web/* /var/www/ringo-uchet/
sudo chown -R www-data:www-data /var/www/ringo-uchet
sudo chmod -R 755 /var/www/ringo-uchet
```

---

## ‚úÖ –®–ê–ì 7: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏

**–ü–æ—Å–ª–µ –≤—Å–µ—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π:**

1. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (`Ctrl+Shift+Delete`)
2. –û—Ç–∫—Ä–æ–π—Ç–µ `https://ringoouchet.ru`
3. `F12` ‚Üí **Network** ‚Üí `Ctrl+F5`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - –û–±—â–µ–µ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å <3-4 —Å–µ–∫ –≤–º–µ—Å—Ç–æ 5,44)
   - –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤ (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ —Å–∂–∞—Ç–∏–µ–º gzip)
   - Speed Index (–¥–æ–ª–∂–µ–Ω —É–ª—É—á—à–∏—Ç—å—Å—è)

**–ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ Lighthouse —Å–Ω–æ–≤–∞:**

1. `F12` ‚Üí **Lighthouse**
2. –í—ã–±–µ—Ä–∏—Ç–µ **Performance** –∏ **Mobile**
3. –ù–∞–∂–º–∏—Ç–µ **Analyze page load**
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - Performance Score: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å >88-92
   - Speed Index: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å <5 —Å–µ–∫ (–≤–º–µ—Å—Ç–æ 7,9)

---

## üìä –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π:
- ‚è±Ô∏è –û–±—â–µ–µ –≤—Ä–µ–º—è: **5,44 —Å–µ–∫**
- üì¶ Speed Index: **7,9 —Å–µ–∫**
- üìä Performance Score: **86**

### –ü–æ—Å–ª–µ Gzip + HTML renderer:
- ‚è±Ô∏è –û–±—â–µ–µ –≤—Ä–µ–º—è: **~3-4 —Å–µ–∫** (—É–ª—É—á—à–µ–Ω–∏–µ –Ω–∞ 25-35%)
- üì¶ Speed Index: **~4-5 —Å–µ–∫** (—É–ª—É—á—à–µ–Ω–∏–µ –Ω–∞ 35-45%)
- üìä Performance Score: **~88-92** (—É–ª—É—á—à–µ–Ω–∏–µ –Ω–∞ 2-6 –±–∞–ª–ª–æ–≤)

---

## ‚úÖ –ö–û–ù–¢–†–û–õ–¨–ù–´–ô –°–ü–ò–°–û–ö

- [ ] ‚úÖ Gzip –¥–æ–±–∞–≤–ª–µ–Ω –≤ Nginx
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `nginx -t` (—Å–∏–Ω—Ç–∞–∫—Å–∏—Å OK)
- [ ] –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Nginx (`systemctl reload nginx`)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Gzip —Ä–∞–±–æ—Ç–∞–µ—Ç (`curl` –∏–ª–∏ –±—Ä–∞—É–∑–µ—Ä)
- [ ] –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å Flutter —Å HTML renderer
- [ ] –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ/Lighthouse

---

**–ù–∞—á–Ω–∏—Ç–µ —Å –®–ê–ì–ê 1-3 - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Gzip —Ä–∞–±–æ—Ç–∞–µ—Ç!**

