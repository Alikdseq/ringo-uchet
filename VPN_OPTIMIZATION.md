# ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å VPN

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ VPN —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫:
- –î–æ–ª–≥–æ–º—É –æ–∂–∏–¥–∞–Ω–∏—é –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- –¢–∞–π–º–∞—É—Ç–∞–º –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü–ª–æ—Ö–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º—É –æ–ø—ã—Ç—É

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã
**–§–∞–π–ª:** `mobile/lib/core/constants/app_constants.dart`

- **–ë–∞–∑–æ–≤—ã–π —Ç–∞–π–º–∞—É—Ç:** 20 —Å–µ–∫—É–Ω–¥ (–¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π)
- **–¢–∞–π–º–∞—É—Ç –¥–ª—è VPN/–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞:** 45 —Å–µ–∫—É–Ω–¥
- **–¢–∞–π–º–∞—É—Ç –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∏:** 30 —Å–µ–∫—É–Ω–¥ (—É–≤–µ–ª–∏—á–µ–Ω –¥–ª—è VPN)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ó–∞–ø—Ä–æ—Å—ã –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞—é—Ç—Å—è –ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–∏ –º–µ–¥–ª–µ–Ω–Ω–æ–º VPN

### 2. –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã –≤ Dio –∫–ª–∏–µ–Ω—Ç–µ
**–§–∞–π–ª:** `mobile/lib/core/network/dio_client.dart`

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `slowConnectionTimeoutSeconds` (45 —Å–µ–∫—É–Ω–¥) –≤–º–µ—Å—Ç–æ –±–∞–∑–æ–≤–æ–≥–æ
- –î–æ–±–∞–≤–ª–µ–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Accept-Encoding: gzip, deflate` –¥–ª—è —Å–∂–∞—Ç–∏—è –æ—Ç–≤–µ—Ç–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö VPN —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –±–µ–∑ —Ç–∞–π–º–∞—É—Ç–æ–≤

### 3. –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫—ç—à–∞
**–§–∞–π–ª—ã:**
- `mobile/lib/features/orders/services/order_service.dart`
- `mobile/lib/features/catalog/services/catalog_service.dart`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ü—Ä–∏ **–ª—é–±–æ–π** —Å–µ—Ç–µ–≤–æ–π –æ—à–∏–±–∫–µ (—Ç–∞–π–º–∞—É—Ç, connection error, bad response) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫—ç—à
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ `DioExceptionType.badResponse` (VPN –∏–Ω–æ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –î–∞–Ω–Ω—ã–µ –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑ –∫—ç—à–∞, –¥–∞–∂–µ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å VPN

### 4. –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ —Å —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–º —Ç–∞–π–º–∞—É—Ç–æ–º
**–§–∞–π–ª:** `mobile/lib/app.dart`

- –¢–∞–π–º–∞—É—Ç –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∏ —É–≤–µ–ª–∏—á–µ–Ω –¥–æ 30 —Å–µ–∫—É–Ω–¥
- –ü—Ä–∏ —Ç–∞–π–º–∞—É—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫—ç—à (–Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç UI)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –ø—Ä–∏ –º–µ–¥–ª–µ–Ω–Ω–æ–º VPN

---

## üîÑ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å VPN

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ú–µ–¥–ª–µ–Ω–Ω—ã–π VPN (–∑–∞–ø—Ä–æ—Å—ã –∑–∞–Ω–∏–º–∞—é—Ç 30-40 —Å–µ–∫—É–Ω–¥)

1. **–û—Ç–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
   - –î–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ (<100ms)
   - –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –≤ —Ñ–æ–Ω–µ

2. **–ó–∞–ø—Ä–æ—Å –∫ —Å–µ—Ä–≤–µ—Ä—É:**
   - –¢–∞–π–º–∞—É—Ç —É–≤–µ–ª–∏—á–µ–Ω –¥–æ 45 —Å–µ–∫—É–Ω–¥
   - –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–µ–Ω ‚Üí –¥–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
   - –ï—Å–ª–∏ —Ç–∞–π–º–∞—É—Ç ‚Üí –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞

3. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ñ–æ–Ω–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –û—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω—ã–π VPN (–∑–∞–ø—Ä–æ—Å—ã –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç)

1. **–û—Ç–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
   - –î–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
   - –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É

2. **–ó–∞–ø—Ä–æ—Å –∫ —Å–µ—Ä–≤–µ—Ä—É:**
   - –¢–∞–π–º–∞—É—Ç 45 —Å–µ–∫—É–Ω–¥
   - –ü—Ä–∏ –æ—à–∏–±–∫–µ/—Ç–∞–π–º–∞—É—Ç–µ ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫—ç—à
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞

3. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ (–∏—Å–ø–æ–ª—å–∑—É—è –∫—ç—à)

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: VPN —Å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º

1. **Retry –º–µ—Ö–∞–Ω–∏–∑–º:**
   - –ü—Ä–∏ –æ—à–∏–±–∫–µ –¥–µ–ª–∞–µ—Ç—Å—è –¥–æ 3 –ø–æ–ø—ã—Ç–æ–∫
   - –ó–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏: 2s, 4s, 8s
   - –¢–∞–π–º–∞—É—Ç—ã —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç—Å—è —Å –∫–∞–∂–¥–æ–π –ø–æ–ø—ã—Ç–∫–æ–π

2. **Fallback –Ω–∞ –∫—ç—à:**
   - –ï—Å–ª–∏ –≤—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –Ω–µ—É–¥–∞—á–Ω—ã ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫—ç—à
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞

3. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ –¥–∞–∂–µ –ø—Ä–∏ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–º VPN

---

## üìä –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
- –î–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞ –¥–æ—Å—Ç—É–ø–Ω—ã –∑–∞ **<100ms**
- –ù–µ –Ω—É–∂–Ω–æ –∂–¥–∞—Ç—å –æ—Ç–≤–µ—Ç–∞ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞

### ‚úÖ –†–∞–±–æ—Ç–∞ –ø—Ä–∏ –º–µ–¥–ª–µ–Ω–Ω–æ–º VPN
- –¢–∞–π–º–∞—É—Ç—ã —É–≤–µ–ª–∏—á–µ–Ω—ã –¥–æ **45 —Å–µ–∫—É–Ω–¥**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

### ‚úÖ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- –ü—Ä–∏ –ª—é–±–æ–π –æ—à–∏–±–∫–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫—ç—à
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞

### ‚úÖ –ü–ª–∞–≤–Ω—ã–π UX
- –ù–µ—Ç –¥–æ–ª–≥–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è
- –î–∞–Ω–Ω—ã–µ –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω—ã
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ñ–æ–Ω–µ

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –¢–∞–π–º–∞—É—Ç—ã:
- **–ë–∞–∑–æ–≤—ã–π:** 20 —Å–µ–∫—É–Ω–¥
- **VPN/–º–µ–¥–ª–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç:** 45 —Å–µ–∫—É–Ω–¥
- **–ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞:** 30 —Å–µ–∫—É–Ω–¥

### Retry –º–µ—Ö–∞–Ω–∏–∑–º:
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫:** 3
- **–ó–∞–¥–µ—Ä–∂–∫–∏:** 2s, 4s, 8s (—ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ)
- **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ç–∞–π–º–∞—É—Ç–æ–≤:** +5 —Å–µ–∫—É–Ω–¥ —Å –∫–∞–∂–¥–æ–π –ø–æ–ø—ã—Ç–∫–æ–π

### –ö—ç—à:
- **–í—Ä–µ–º—è –∂–∏–∑–Ω–∏:** 24 —á–∞—Å–∞
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ü—Ä–∏ –ª—é–±–æ–π —Å–µ—Ç–µ–≤–æ–π –æ—à–∏–±–∫–µ
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö

---

## ‚úÖ –ò—Ç–æ–≥

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–æ –¥–∞–∂–µ –ø—Ä–∏ VPN:**
- ‚ö° –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –∫—ç—à–∞
- ‚ö° –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö VPN —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (–¥–æ 45 —Å–µ–∫—É–Ω–¥)
- ‚ö° –ù–∞–¥–µ–∂–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø—Ä–∏ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ
- ‚ö° –ü–ª–∞–≤–Ω—ã–π UX –±–µ–∑ –¥–æ–ª–≥–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Å–µ–≥–¥–∞ –≤–∏–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ - –ª–∏–±–æ —Å–≤–µ–∂–∏–µ —Å —Å–µ—Ä–≤–µ—Ä–∞, –ª–∏–±–æ –∏–∑ –∫—ç—à–∞!**

