## üöÄ –î–ï–¢–ê–õ–¨–ù–´–ô –ü–õ–ê–ù –ü–ï–†–ï–ü–ò–°–´–í–ê–ù–ò–Ø –§–†–û–ù–¢–ê RINGO UCHET –ù–ê REACT WEB

–ù–æ–≤–∞—è —Ü–µ–ª—å: –æ—Å—Ç–∞–≤–∏—Ç—å backend (Django/DRF) **–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π**, –∞ —Ç–µ–∫—É—â–∏–π Flutter‚Äë—Ñ—Ä–æ–Ω—Ç (web/mobile UI) **–ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –≤ –≤–µ–±‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ React/Next.js** —Å –ø–æ–ª–Ω–æ–π –º–æ–±–∏–ª—å–Ω–æ–π –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å—é –∏ –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é.  
–í—Å–µ –±–∏–∑–Ω–µ—Å‚Äë—Ñ–ª–æ—É, —Ä–æ–ª–∏, API –∏ –¥–æ–º–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –±–µ—Ä—É—Ç—Å—è –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ (backend + Flutter), –º—ã **–Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–∏–¥—É–º—ã–≤–∞–µ–º –∑–∞–Ω–æ–≤–æ**, —Ç–æ–ª—å–∫–æ –º–µ–Ω—è–µ–º —Ñ—Ä–æ–Ω—Ç–æ–≤—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é.

–§—Ä–µ–π–º–≤–æ—Ä–∫ —Ñ—Ä–æ–Ω—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: **Next.js + React + TypeScript** (–º–æ–∂–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –¥–æ JS, –Ω–æ –ø–ª–∞–Ω –ø–∏—Å–∞–Ω —Å –ø—Ä–∏—Ü–µ–ª–æ–º –Ω–∞ TS).  
–°—Ç–µ–∫: Next.js (app router), React Query (–¥–∞–Ω–Ω—ã–µ), Zustand/Context (—Å–æ—Å—Ç–æ—è–Ω–∏–µ UI), Axios –∏–ª–∏ fetch‚Äë–∫–ª–∏–µ–Ω—Ç, Tailwind/Chakra/MUI –¥–ª—è UI (–∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–∞ —ç—Ç–∞–ø–µ 0.3).

---

## üìö –û–ì–õ–ê–í–õ–ï–ù–ò–ï

1. [–≠–¢–ê–ü W0: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞, –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ñ—Ä–æ–Ω—Ç–∞](#—ç—Ç–∞–ø-w0)
2. [–≠–¢–ê–ü W1: –ë–∞–∑–æ–≤—ã–π –∫–∞—Ä–∫–∞—Å Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#—ç—Ç–∞–ø-w1)
3. [–≠–¢–ê–ü W2: Auth & –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (JWT, —Ä–æ–ª–∏, –ø—Ä–æ—Ñ–∏–ª—å)](#—ç—Ç–∞–ø-w2)
4. [–≠–¢–ê–ü W3: –ú–æ–¥—É–ª—å ¬´–ó–∞—è–≤–∫–∏¬ª (Orders)](#—ç—Ç–∞–ø-w3)
5. [–≠–¢–ê–ü W4: –ú–æ–¥—É–ª—å ¬´–ö–∞—Ç–∞–ª–æ–≥¬ª (Equipment/Services/Materials/Clients)](#—ç—Ç–∞–ø-w4)
6. [–≠–¢–ê–ü W5: –§–∏–Ω–∞–Ω—Å—ã –∏ –æ—Ç—á—ë—Ç—ã](#—ç—Ç–∞–ø-w5)
7. [–≠–¢–ê–ü W6: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ FCM-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è](#—ç—Ç–∞–ø-w6)
8. [–≠–¢–ê–ü W7: –ü—Ä–æ—Ñ–∏–ª—å, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –æ—Ñ—Ñ–ª–∞–π–Ω‚Äë–æ—á–µ—Ä–µ–¥—å](#—ç—Ç–∞–ø-w7)
9. [–≠–¢–ê–ü W8: PWA, –æ—Ñ—Ñ–ª–∞–π–Ω, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å](#—ç—Ç–∞–ø-w8)
10. [–≠–¢–ê–ü W9: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–∏–≥—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Ä–µ–ª–∏–∑](#—ç—Ç–∞–ø-w9)

---

## –≠–¢–ê–ü W0: –ü–û–î–ì–û–¢–û–í–ö–ê, –ò–ù–í–ï–ù–¢–ê–†–ò–ó–ê–¶–ò–Ø –ò –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –§–†–û–ù–¢–ê <a name="—ç—Ç–∞–ø-w0"></a>

### W0.1 –ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Ñ—Ä–æ–Ω—Ç–∞ (Flutter) –∏ API
- [x] –°–æ–±—Ä–∞—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö **—ç–∫—Ä–∞–Ω–æ–≤ Flutter** –∏ –∏—Ö —Ñ–∏—á:
  - [x] Auth: login/register, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ª–æ–≥–∏–Ω, —Å–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è.
  - [x] Dashboard c KPI.
  - [x] –°–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫ + —Ñ–∏–ª—å—Ç—Ä—ã/—Ç–∞–±—ã –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º.
  - [x] –î–µ—Ç–∞–ª—å –∑–∞—è–≤–∫–∏: —Å—Ç–∞—Ç—É—Å‚Äëtimeline, –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã, –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞, —Ñ–∏–Ω–∞–Ω—Å—ã, —Ñ–æ—Ç–æ.
  - [x] –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ (–º–∞—Å—Ç–µ—Ä), —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ.
  - [x] –ö–∞—Ç–∞–ª–æ–≥: —Ç–µ—Ö–Ω–∏–∫–∞/—É—Å–ª—É–≥–∏/–º–∞—Ç–µ—Ä–∏–∞–ª—ã/–Ω–∞–≤–µ—Å–∫–∏/–∫–ª–∏–µ–Ω—Ç—ã.
  - [x] –û—Ç—á—ë—Ç—ã: summary, –ø–æ —Ç–µ—Ö–Ω–∏–∫–µ, –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º.
  - [x] –ü—Ä–æ—Ñ–∏–ª—å, –∑–∞—Ä–ø–ª–∞—Ç—ã –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.
  - [x] Offline queue —ç–∫—Ä–∞–Ω.
- [x] –°–Ω—è—Ç—å –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ **–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö backend —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤** (–ø–æ –∫–æ–¥—É Flutter):
- [x] Auth: `/token/`, `/token/refresh/`, `/token/blacklist/`, `/auth/otp/send/`, `/auth/otp/verify/`, `/users/me/`, `/users/register/`, `/users/change-password/`.
- [x] Users: `/users/operator/salary/`, `/users/operators/` –∏ fallback‚Äë–≤–∞—Ä–∏–∞–Ω—Ç—ã (`/api/v1/users/‚Ä¶`).
- [x] Orders: `/orders/`, `/orders/{id}/`, `/orders/{id}/status/`, `/orders/{id}/complete/`, `/orders/{id}/attachments/`, `/orders/{id}/calculate/preview/`, `/orders/{id}/receipt/`, `/orders/{id}/delete/`, `/orders/{id}/generate_invoice/`.
- [x] Catalog: `/equipment/`, `/services/`, `/materials/`, `/attachments/`, `/clients/`.
- [x] Reports: `/reports/summary/`, `/reports/equipment/`, `/reports/employees/`.
- [x] Notifications: `/notifications/device-tokens/`, `/notifications/preferences/preferences/`, `/notifications/preferences/logs/`.
- [x] –î–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å:
- [x] HTTP –º–µ—Ç–æ–¥, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞/—Ç–µ–ª–∞, –∫–æ–¥ –æ—Ç–≤–µ—Ç–∞, —Ñ–æ—Ä–º–∞ JSON.
- [x] –¢—Ä–µ–±—É–µ–º—ã–µ —Ä–æ–ª–∏ –∏ use‚Äëcases (–∫—Ç–æ –∏ –æ—Ç–∫—É–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç).

### W0.2 –ö–∞—Ä—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –Ω–æ–≤–æ–≥–æ React –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- [x] –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É URL –∏ —Å—Ç—Ä–∞–Ω–∏—Ü (Next.js `app` router):
  - [x] `/login`, `/register`, `/forgot-password` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).
  - [x] `/` ‚Äî Dashboard (role‚Äëaware).
  - [x] `/orders`, `/orders/:id`, `/orders/:id/edit`, `/orders/create`.
  - [x] `/catalog/equipment`, `/catalog/services`, `/catalog/materials`, `/catalog/attachments`, `/catalog/clients`.
  - [x] `/reports/summary`, `/reports/equipment`, `/reports/employees`.
  - [x] `/profile`, `/profile/salary` (–¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞), `/profile/notifications`, `/profile/password`.
  - [x] `/offline-queue`.
- [x] –£–≤—è–∑–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã —Å —Ç–µ–∫—É—â–∏–º–∏ Flutter‚Äë—ç–∫—Ä–∞–Ω–∞–º–∏, —á—Ç–æ–±—ã –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ.

### W0.3 –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è —Ñ—Ä–æ–Ω—Ç–∞
- [x] –í—ã–±—Ä–∞—Ç—å —Å—Ç–µ–∫:
  - [ ] Next.js 14+ (React 18), TypeScript.
  - [ ] UI‚Äë–±–∏–±–ª–∏–æ—Ç–µ–∫–∞: Tailwind CSS + Headless UI / Radix UI **–∏–ª–∏** MUI/Chakra (—Ñ–∏–∫—Å–∏—Ä—É–µ–º –æ–¥–Ω–æ).
  - [ ] Data‚Äëlayer: React Query (TanStack) –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API (–∫—ç—à, —Ä–µ—Ñ–µ—Ç—á–∏, –æ—à–∏–±–∫–∏).
  - [ ] –°–æ—Å—Ç–æ—è–Ω–∏–µ: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≥–ª–æ–±–∞–ª—å–Ω—ã–π —Å—Ç–æ—Ä (Zustand/Context) –¥–ª—è auth/–Ω–∞–≤–∏–≥–∞—Ü–∏–∏/–Ω–∞—Å—Ç—Ä–æ–µ–∫.
  - [ ] HTTP‚Äë–∫–ª–∏–µ–Ω—Ç: Axios —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–Ω—Å—Ç–∞–Ω—Å–æ–º –∏ –∏–Ω—Ç–µ—Ä—Å–µ–ø—Ç–æ—Ä–∞–º–∏ (auth, –æ—à–∏–±–∫–∏).
- [x] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å **layout‚Äë—É—Ä–æ–≤–Ω–∏**:
  - [ ] `RootLayout`: —Ç–µ–º–∞, –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è, –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã.
  - [ ] `AuthLayout`: —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.
  - [ ] `AppLayout`: –≤–µ—Ä—Ö–Ω–µ–µ –º–µ–Ω—é/—Å–∞–π–¥–±–∞—Ä + –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π bottom‚Äënav –Ω–∞ –º–æ–±–∞–π–ª–µ.

### W0.4 –°–≤—è–∑–∫–∞ —Å backend –æ–∫—Ä—É–∂–µ–Ω–∏—è–º–∏
- [x] –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å base URL –ø–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è–º (–ø–æ–≤—Ç–æ—Ä–∏—Ç—å Flutter `AppConfig`):
  - [ ] `DEV_API_BASE` ‚Äî `http://localhost:8001/api/v1`.
  - [ ] `STAGE_API_BASE` ‚Äî `https://api.ringo.stage/api/v1` (–ø–æ —Ñ–∞–∫—Ç—É).
  - [ ] `PROD_API_BASE` ‚Äî `https://ringoouchet.ru/api/v1`.
- [x] –ü—Ä–æ–ø–∏—Å–∞—Ç—å .env —Å—Ö–µ–º—ã: `.env.development`, `.env.staging`, `.env.production`.
- [x] –°–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å CORS/CSRF –ø–æ–ª–∏—Ç–∏–∫—É (JWT –≤ header, **–ù–ï** –≤ cookie).

---

## –≠–¢–ê–ü W1: –ë–ê–ó–û–í–´–ô –ö–ê–†–ö–ê–° NEXT.JS –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø <a name="—ç—Ç–∞–ø-w1"></a>

### W1.1 –°—Ç–∞—Ä—Ç –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- [ ] –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `frontend/` –≤ –º–æ–Ω–æ—Ä–µ–ø–æ.
- [ ] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Next.js –ø—Ä–æ–µ–∫—Ç:
  - [ ] `npx create-next-app@latest frontend --ts --eslint --src-dir --app`.
  - [ ] –£–¥–∞–ª–∏—Ç—å –¥–µ–º–æ‚Äë—Å—Ç—Ä–∞–Ω–∏—Ü—ã, –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —á–∏—Å—Ç—ã–π –∫–∞—Ä–∫–∞—Å.
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
  - [ ] `src/app/(auth)/login`, `src/app/(auth)/register`.
  - [ ] `src/app/(app)/layout.tsx`, `src/app/(app)/page.tsx` (Dashboard).
  - [ ] `src/app/(app)/orders`, `src/app/(app)/catalog`, `src/app/(app)/reports`, `src/app/(app)/profile`, `src/app/(app)/offline-queue`.
  - [ ] `src/shared/components`, `src/shared/hooks`, `src/shared/types`, `src/shared/utils`.

### W1.2 –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—á–µ—Å—Ç–≤–∞
- [ ] ESLint + Prettier + Husky:
  - [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –ø–æ–¥ React/TS/Next, –∏–º–ø–æ—Ä—Ç‚Äë–æ—Ä–¥–µ—Ä, no‚Äëany (–º–∏–Ω–∏–º—É–º).
  - [ ] Prettier config, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.
  - [ ] Husky pre‚Äëcommit: `lint`, `typecheck` (–ø–æ –º–µ—Ä–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è).
- [ ] Storybook (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –Ω—É–∂–µ–Ω UI‚Äë–∫–∞—Ç–∞–ª–æ–≥):
  - [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö UI‚Äë–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–∫–Ω–æ–ø–∫–∏, –ø–æ–ª—è, —Ç–∞–±–ª–∏—Ü—ã).

### W1.3 UI‚Äë—Å–∏—Å—Ç–µ–º–∞ –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
- [ ] –ü–æ–¥–∫–ª—é—á–∏—Ç—å UI/—Å—Ç–∏–ª–∏:
  - [ ] Tailwind: `tailwind.config`, –±–∞–∑–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã (—Ü–≤–µ—Ç–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ –∫–∞–∫ –≤ Flutter `StatusColors`).
  - [ ] –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏: —à—Ä–∏—Ñ—Ç—ã, —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞, –æ—Ç—Å—Ç—É–ø—ã.
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å **–∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π layout**:
  - [ ] Desktop: —Å–∞–π–¥–±–∞—Ä —Å–ª–µ–≤–∞ + –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç.
  - [ ] Tablet: —Å–≤–µ—Ä–Ω—É—Ç—ã–π —Å–∞–π–¥–±–∞—Ä/–∏–∫–æ–Ω–∫–∏.
  - [ ] Mobile: bottom navigation + –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å–≤–µ—Ä—Ö—É.
- [ ] –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
  - [ ] `AppShell` (layout), `TopBar`, `SideNav`, `BottomNav`.
  - [ ] `StatusBadge` (—Ü–≤–µ—Ç–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤).
  - [ ] `PageHeader`, `Card`, `DataTable` (–±–∞–∑–æ–≤—ã–π).

### W1.4 HTTP‚Äë–∫–ª–∏–µ–Ω—Ç –∏ —Å–ª–æ–π API
- [ ] –°–æ–∑–¥–∞—Ç—å `src/shared/api/httpClient.ts`:
  - [ ] Axios –∏–Ω—Å—Ç–∞–Ω—Å —Å baseURL –∏–∑ env.
  - [ ] Interceptor request: –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ JWT access‚Äë—Ç–æ–∫–µ–Ω–∞ –∏–∑ auth‚Äë—Ö—Ä–∞–Ω–∏–ª–∏—â–∞.
  - [ ] Interceptor response: –º–∞–ø–ø–∏–Ω–≥ –æ—à–∏–±–æ–∫ –≤Áªü‰∏Ä —Ñ–æ—Ä–º–∞—Ç (AppException).
- [ ] –û–±—ä—è–≤–∏—Ç—å —Ç–∏–ø—ã –¥–ª—è –±–∞–∑–æ–≤—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ (–ø–∞–≥–∏–Ω–∞—Ü–∏—è, –æ—à–∏–±–∫–∏).
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å React Query:
  - [ ] `QueryClientProvider` –≤ `RootLayout`.
  - [ ] –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: retry, staleTime –¥–ª—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤.

---

## –≠–¢–ê–ü W2: AUTH & –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ò (JWT, –†–û–õ–ò, –ü–†–û–§–ò–õ–¨) <a name="—ç—Ç–∞–ø-w2"></a>

### W2.1 –ú–æ–¥–µ–ª–∏ –∏ —Ç–∏–ø—ã auth
- [ ] –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –º–æ–¥–µ–ª–∏ –∏–∑ Flutter –≤ TS:
  - [ ] `AuthResponse { access, refresh, user }`.
  - [ ] `UserInfo` (id, username/email/phone, first_name, last_name, role, role_display, avatar, locale, position).
- [ ] –°–æ–∑–¥–∞—Ç—å `src/shared/types/auth.ts` —Å –ø–æ–ª–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏.

### W2.2 Auth‚Äë—Å–µ—Ä–≤–∏—Å (API —Å–ª–æ–π)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `AuthApi`:
  - [ ] `login(data: { phone/email/username, password, captchaToken? })` ‚Üí POST `/token/`.
  - [ ] `refreshToken(refresh: string)` ‚Üí POST `/token/refresh/`.
  - [ ] `logout(refresh: string)` ‚Üí POST `/token/blacklist/`.
  - [ ] `getCurrentUser()` ‚Üí GET `/users/me/`.
  - [ ] `register(...)` ‚Üí POST `/users/register/`.
  - [ ] `changePassword(...)` ‚Üí POST `/users/change-password/`.
- [ ] –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞—Ç—É—Å—ã 400/401/429, –∫–∞–∫ –≤–æ Flutter `AuthService`.

### W2.3 –•—Ä–∞–Ω–∏–ª–∏—â–µ auth‚Äë—Å–æ—Å—Ç–æ—è–Ω–∏—è
- [ ] –°–æ–∑–¥–∞—Ç—å `useAuthStore` (Zustand –∏–ª–∏ React Context):
  - [ ] –ü–æ–ª—è: `user`, `accessToken`, `refreshToken`, `isAuthenticated`, `isLoading`, `error`.
  - [ ] –ú–µ—Ç–æ–¥—ã: `login`, `logout`, `tryAutoLogin`, `refreshTokenSafe`, `loadCurrentUser`.
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å **–∞–≤—Ç–æ‚Äë–ª–æ–≥–∏–Ω/refresh** –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å Flutter `AuthNotifier`:
  - [ ] –ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
    - [ ] –ü—Ä–æ–±–æ–≤–∞—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å user –∏–∑ localStorage/sessionStorage.
    - [ ] –ï—Å–ª–∏ –µ—Å—Ç—å refresh, –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –æ–±–Ω–æ–≤–∏—Ç—å access.
    - [ ] –ü—Ä–∏ –Ω–µ—É—Å–ø–µ—Ö–µ ‚Äî –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –∞–≤—Ç–æ‚Äë–ª–æ–≥–∏–Ω –ø–æ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–º –∫—Ä–µ–¥–∞–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).

### W2.4 –°—Ç—Ä–∞–Ω–∏—Ü—ã –ª–æ–≥–∏–Ω–∞/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- [ ] `/login`:
  - [ ] –§–æ—Ä–º–∞: —Ç–µ–ª–µ—Ñ–æ–Ω/email, –ø–∞—Ä–æ–ª—å, –≤–∞–ª–∏–¥–∞—Ü–∏—è (–º–∞—Å–∫–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞).
  - [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å —Å–µ—Ä–≤–µ—Ä–∞ (AppException).
  - [ ] –†–µ–∂–∏–º –∑–∞–≥—Ä—É–∑–∫–∏, disabled —Å–æ—Å—Ç–æ—è–Ω–∏—è.
  - [ ] –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/` –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ª–æ–≥–∏–Ω–µ.
- [ ] `/register`:
  - [ ] –§–æ—Ä–º–∞: –∏–º—è, —Ñ–∞–º–∏–ª–∏—è, —Ç–µ–ª–µ—Ñ–æ–Ω, –ø–∞—Ä–æ–ª—å, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è.
  - [ ] –í—ã–∑–æ–≤ `AuthApi.register` –∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏–π silent‚Äëlogin (–∫–∞–∫ –≤–æ Flutter).

### W2.5 Guard‚Äô—ã –∏ —Ä–æ–ª–∏
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `AuthGuard`:
  - [ ] –ó–∞—â–∏—â—ë–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã (–≤—Å–µ –ø–æ–¥ `(app)`).
  - [ ] –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/login` –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ auth.
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `RoleGuard`:
  - [ ] –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω—Å–∫–∏–º —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º (–æ—Ç—á—ë—Ç—ã, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–æ–π).
  - [ ] –ú–∞–ø–ø–∏–Ω–≥ —Ä–æ–ª–µ–π: `admin`, `manager`, `operator`, `accountant`, `viewer`.

---

## –≠–¢–ê–ü W3: –ú–û–î–£–õ–¨ ¬´–ó–ê–Ø–í–ö–ò¬ª (ORDERS) <a name="—ç—Ç–∞–ø-w3"></a>

### W3.1 –¢–∏–ø—ã –∏ –º–∞–ø–ø–∏–Ω–≥ –º–æ–¥–µ–ª–µ–π
- [ ] –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –º–æ–¥–µ–ª–∏ Flutter `Order`, `OrderItem`, `OrderStatus`, `OrderStatusLog`, `PhotoEvidence`, `ClientInfo`, `OrderRequest`, `OrderStatusRequest`, `OrderPricePreview*` –≤ `src/shared/types/orders.ts`.
- [ ] –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –≤—Å—é ¬´—É–º–Ω—É—é¬ª –æ–±—Ä–∞–±–æ—Ç–∫—É, –∫–æ—Ç–æ—Ä–∞—è –µ—Å—Ç—å –≤–æ Flutter `Order.fromJson`:
  - [ ] –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ `Decimal`‚Äë–ø–æ–ª–µ–π (—Å—Ç—Ä–æ–∫–∏ ‚Üî —á–∏—Å–ª–∞).
  - [ ] –†–∞–±–æ—Ç–∞ —Å clientId/managerId/operatorIds.
  - [ ] –ó–∞–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞ `DELETED` ‚Üí `CANCELLED` –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏.

### W3.2 Orders API
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `OrdersApi`:
  - [ ] `list(params: { status?, search?, page?, pageSize? })` ‚Üí GET `/orders/`.
  - [ ] `get(id)` ‚Üí GET `/orders/{id}/`.
  - [ ] `create(request: OrderRequest)` ‚Üí POST `/orders/`.
  - [ ] `update(id, request: OrderRequest)` ‚Üí PATCH `/orders/{id}/`.
  - [ ] `changeStatus(id, data: OrderStatusRequest)` ‚Üí PATCH `/orders/{id}/status/`.
  - [ ] `previewPrice(id, data: OrderPricePreviewRequest)` ‚Üí POST `/orders/{id}/calculate/preview/`.
  - [ ] `complete(id, payload)` ‚Üí POST `/orders/{id}/complete/`.
  - [ ] `generateInvoice(id)` ‚Üí POST `/orders/{id}/generate_invoice/`.
  - [ ] `getReceiptPdf(id)` ‚Üí GET `/orders/{id}/receipt/` (bytes).
  - [ ] `delete(id)` ‚Üí POST `/orders/{id}/delete/`.
- [ ] –ó–∞–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å fallback‚Äë—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ (–∫—ç—à) –ø—Ä–∏ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–∫–∞—Ö ‚Äî –∞–Ω–∞–ª–æ–≥ Flutter `OrderService`.

### W3.3 –°–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫ `/orders`
- [ ] UI —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
  - [ ] –¢–∞–± ¬´–í—Å–µ¬ª + —Ç–∞–±—ã –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º (`CREATED`, `APPROVED`, `IN_PROGRESS`, `COMPLETED`, `CANCELLED`).
  - [ ] –ü–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É, –∫–ª–∏–µ–Ω—Ç—É, –∞–¥—Ä–µ—Å—É (—Å debounce).
  - [ ] –ü–∞–≥–∏–Ω–∞—Ü–∏—è –∏–ª–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Å–∫—Ä–æ–ª–ª.
  - [ ] –¶–≤–µ—Ç–Ω—ã–µ –±–µ–π–¥–∂–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ (–∫–∞–∫ –≤ mobile).
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `OrdersListPage`:
  - [ ] –ó–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ React Query —Å –∫–ª—é—á–∞–º–∏ –≤–∏–¥–∞ `['orders', filters]`.
  - [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ refetch –ø–æ pull‚Äëto‚Äërefresh / –∫–Ω–æ–ø–∫–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.
  - [ ] –û—Ç–¥–µ–ª–∏—Ç—å –ª–æ–≥–∏–∫—É —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (container/presenter).

### W3.4 –î–µ—Ç–∞–ª—å –∑–∞—è–≤–∫–∏ `/orders/:id`
- [ ] Header:
  - [ ] –ù–æ–º–µ—Ä –∑–∞—è–≤–∫–∏, —Å—Ç–∞—Ç—É—Å —Å —Ü–≤–µ—Ç–æ–º, –¥–∞—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è/–Ω–∞—á–∞–ª–∞/–æ–∫–æ–Ω—á–∞–Ω–∏—è.
  - [ ] –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π (—Å–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ).
- [ ] –ë–ª–æ–∫ ¬´–ö–ª–∏–µ–Ω—Ç¬ª (ClientInfo).
- [ ] –ë–ª–æ–∫ ¬´–ê–¥—Ä–µ—Å –∏ –∫–∞—Ä—Ç–∞¬ª:
  - [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç; –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç—ã –ø–æ–∑–∂–µ (–æ—Ç–¥–µ–ª—å–Ω–æ–π –∑–∞–¥–∞—á–µ–π).
- [ ] –ë–ª–æ–∫ ¬´–û–ø–µ—Ä–∞—Ç–æ—Ä—ã –∏ –º–µ–Ω–µ–¥–∂–µ—Ä¬ª.
- [ ] –ë–ª–æ–∫ ¬´–ü–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–∞ (OrderItems)¬ª:
  - [ ] –¢–∞–±–ª–∏—Ü–∞ –ø–æ–∑–∏—Ü–∏–π —Å —Ç–∏–ø–æ–º (equipment/service/material), –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º, —Ü–µ–Ω–æ–π, —Å–∫–∏–¥–∫–æ–π, –∏—Ç–æ–≥–æ.
- [ ] –ë–ª–æ–∫ ¬´–§–∏–Ω–∞–Ω—Å—ã¬ª:
  - [ ] prepayment, total_amount, snapshot.
- [ ] –ë–ª–æ–∫ ¬´–¢–∞–π–º–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å–æ–≤¬ª:
  - [ ] –í–∏–∑—É–∞–ª—å–Ω—ã–π timeline –Ω–∞ –æ—Å–Ω–æ–≤–µ `OrderStatusLog` (–∫–∞–∫ `StatusTimelineWidget`).
- [ ] –ë–ª–æ–∫ ¬´–§–æ—Ç–æ¬ª:
  - [ ] –°–ø–∏—Å–æ–∫ `PhotoEvidence`, –ø—Ä–µ–≤—å—é, –æ—Ç–∫—Ä—ã—Ç–∏–µ –≤ lightbox (–∑–∞–≥—Ä—É–∑–∫–∞/—Å–æ–∑–¥–∞–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–º —ç—Ç–∞–ø–æ–º).

### W3.5 –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/orders/create`:
  - [ ] –ú–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–π –º–∞—Å—Ç–µ—Ä:
    - [ ] –®–∞–≥ 1: –≤—ã–±–æ—Ä/—Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ (—á–µ—Ä–µ–∑ Catalog API `/clients/` + `ClientService.createClient`).
    - [ ] –®–∞–≥ 2: –∞–¥—Ä–µ—Å/–≥–µ–æ (—Ñ–æ—Ä–º–∞ + –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞).
    - [ ] –®–∞–≥ 3: –≤—ã–±–æ—Ä –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã (–¥–∏–∞–ª–æ–≥, –∫–∞–∫ `NomenclatureSelectionDialog` –≤–æ Flutter).
    - [ ] –®–∞–≥ 4: –¥–∞—Ç—ã –∏ –æ–ø–∏—Å–∞–Ω–∏–µ.
    - [ ] –®–∞–≥ 5: –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ü–µ–Ω—ã (`/orders/{id}/calculate/preview/` –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–∞—Å—á—ë—Ç –¥–æ —Å–æ–∑–¥–∞–Ω–∏—è).
  - [ ] –ö–Ω–æ–ø–∫–∞ ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫¬ª (—Å—Ç–∞—Ç—É—Å DRAFT).
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/orders/:id/edit`:
  - [ ] –ü–æ–≤—Ç–æ—Ä—è–µ—Ç –º–∞—Å—Ç–µ—Ä, –Ω–æ —Å –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ `Order`.

### W3.6 –°–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏
- [ ] –î–∏–∞–ª–æ–≥ —Å–º–µ–Ω—ã —Å—Ç–∞—Ç—É—Å–∞ (–∫–∞–∫ `ChangeStatusDialog`):
  - [ ] –ü–æ–ª–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è.
  - [ ] –î–ª—è `COMPLETED` ‚Äî –∑–∞—Ä–ø–ª–∞—Ç–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º, —Ç–æ–ø–ª–∏–≤–æ –∏ –ø—Ä–æ—á–∏–µ —Ä–∞—Å—Ö–æ–¥—ã.
  - [ ] –í—ã–∑–æ–≤ `OrdersApi.changeStatus`.
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞/–¥–∏–∞–ª–æ–≥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è `/orders/:id/complete`:
  - [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–∑–∏—Ü–∏–π/–≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã —Ç–µ—Ö–Ω–∏–∫–∏ (—à–∞–≥–∏, —á–∞—Å—ã).
  - [ ] –í—ã–∑–æ–≤ `OrdersApi.complete`.
  - [ ] –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–∫–∞—á–∞—Ç—å —á–µ–∫/–∞–∫—Ç (PDF) —á–µ—Ä–µ–∑ `getReceiptPdf` / `generateInvoice`.

---

## –≠–¢–ê–ü W4: –ú–û–î–£–õ–¨ ¬´–ö–ê–¢–ê–õ–û–ì¬ª <a name="—ç—Ç–∞–ø-w4"></a>

### W4.1 –¢–∏–ø—ã –∏ API
- [ ] –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ TS –º–æ–¥–µ–ª–∏ `Equipment`, `ServiceCategory`, `ServiceItem`, `MaterialItem`, `Attachment` –∏–∑ Flutter.
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `CatalogApi`:
  - [ ] `getEquipment({ status?, search?, pageSize? })` ‚Üí `/equipment/`.
  - [ ] `getServices({ category?, search?, pageSize? })` ‚Üí `/services/`.
  - [ ] `getMaterials({ category?, search?, pageSize? })` ‚Üí `/materials/`.
  - [ ] `getAttachments({ search? })` ‚Üí `/attachments/`.
  - [ ] `getClients({ search? })` ‚Üí `/clients/`.
  - [ ] CRUD‚Äë–º–µ—Ç–æ–¥—ã –¥–ª—è –∞–¥–º–∏–Ω—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (`POST/PUT/PATCH/DELETE`) —Ç–∞–º, –≥–¥–µ backend —ç—Ç–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç.

### W4.2 UI –∫–∞—Ç–∞–ª–æ–≥–∞
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/catalog/equipment`:
  - [ ] –°–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç–æ—á–µ–∫ —Ç–µ—Ö–Ω–∏–∫–∏: –∫–æ–¥, –∏–º—è, —Å—Ç–∞–≤–∫–∏ (—á–∞—Å/—Å–º–µ–Ω–∞), —Å—Ç–∞—Ç—É—Å, —Ñ–æ—Ç–æ.
  - [ ] –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É.
- [ ] `/catalog/services`, `/catalog/materials`:
  - [ ] –¢–∞–±–ª–∏—Ü—ã —Å –ø–æ–∏—Å–∫–æ–º, –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π/–µ–¥–∏–Ω–∏—Ü–∞–º–∏ –∏–∑–º–µ—Ä–µ–Ω–∏—è.
- [ ] `/catalog/clients`:
  - [ ] –°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤, –ø–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏/—Ç–µ–ª–µ—Ñ–æ–Ω—É, –∫–Ω–æ–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è (—Ñ–æ—Ä–º–∞).

### W4.3 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–æ–π (–¥–ª—è –∞–¥–º–∏–Ω–∞)
- [ ] –ê–¥–º–∏–Ω—Å–∫–∏–π —Ä–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
  - [ ] –î–∏–∞–ª–æ–≥/—Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ—Ö–Ω–∏–∫–∏/—É—Å–ª—É–≥/–º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤.
  - [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è; –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏.

---

## –≠–¢–ê–ü W5: –§–ò–ù–ê–ù–°–´ –ò –û–¢–ß–Å–¢–´ <a name="—ç—Ç–∞–ø-w5"></a>

### W5.1 –¢–∏–ø—ã –æ—Ç—á—ë—Ç–æ–≤
- [ ] –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –º–æ–¥–µ–ª–∏ Flutter `SummaryReport`, `EquipmentReportItem`, `EmployeeReportItem` –≤ TS.
- [ ] –û–ø–∏—Å–∞—Ç—å `ReportsApi`:
  - [ ] `getSummary({ from?, to? })` ‚Üí `/reports/summary/`.
  - [ ] `getByEquipment({ from?, to? })` ‚Üí `/reports/equipment/`.
  - [ ] `getByEmployees({ from?, to? })` ‚Üí `/reports/employees/`.

### W5.2 –°—Ç—Ä–∞–Ω–∏—Ü—ã –æ—Ç—á—ë—Ç–æ–≤
- [ ] `/reports/summary`:
  - [ ] KPI –∫–∞—Ä—Ç–æ—á–∫–∏ (–≤—ã—Ä—É—á–∫–∞, —Ä–∞—Å—Ö–æ–¥—ã, –º–∞—Ä–∂–∞, –∫–æ–ª-–≤–æ –∑–∞–∫–∞–∑–æ–≤).
  - [ ] –ì—Ä–∞—Ñ–∏–∫–∏ (–≤—ã—Ä—É—á–∫–∞ –ø–æ –¥–Ω—è–º/–º–µ—Å—è—Ü–∞–º) ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—ë–≥–∫—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É (Recharts / Nivo / ApexCharts).
  - [ ] –§–∏–ª—å—Ç—Ä –ø–æ –ø–µ—Ä–∏–æ–¥—É (DateRangePicker).
- [ ] `/reports/equipment`:
  - [ ] –¢–∞–±–ª–∏—Ü–∞ –ø–æ —Ç–µ—Ö–Ω–∏–∫–µ: —á–∞—Å—ã, –≤—ã—Ä—É—á–∫–∞, —Ä–∞—Å—Ö–æ–¥—ã, —Ç–æ–ø–ª–∏–≤–æ/—Ä–µ–º–æ–Ω—Ç.
- [ ] `/reports/employees`:
  - [ ] –¢–∞–±–ª–∏—Ü–∞ –ø–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π, —á–∞—Å—ã, —Å—É–º–º–∞.
- [ ] –ö–Ω–æ–ø–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ (CSV/XLSX/PDF) ‚Äî –ø–æ –º–µ—Ä–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ backend.

---

## –≠–¢–ê–ü W6: –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø –ò FCM-–ò–ù–¢–ï–ì–†–ê–¶–ò–Ø <a name="—ç—Ç–∞–ø-w6"></a>

### W6.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [x] –¢–∏–ø `NotificationPreferences` (order_created, status_changed, payment_received, invoice_ready, kassa_full).
- [x] `NotificationsApi`:
  - [x] `getPreferences()` ‚Üí GET `/notifications/preferences/preferences/`.
  - [x] `updatePreferences(body)` ‚Üí POST `/notifications/preferences/preferences/`.
  - [x] `getLogs()` ‚Üí GET `/notifications/preferences/logs/`.
- [x] –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/profile/notifications`:
  - [x] –°–≤–∏—Ç—á–∏ –ø–æ –∫–∞–∂–¥–æ–º—É —Ç–∏–ø—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.
  - [x] –ö–Ω–æ–ø–∫–∞ ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å¬ª (POST) –∏ ¬´–û–±–Ω–æ–≤–∏—Ç—å —Å —Å–µ—Ä–≤–µ—Ä–∞¬ª.

### W6.2 FCM/WebPush (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
- [x] –†–µ—à–∏—Ç—å, –Ω—É–∂–µ–Ω –ª–∏ Web‚Äëpush –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞ (FCM+VAPID –∏–ª–∏ —á–∏—Å—Ç—ã–π WebPush).
- [x] –ï—Å–ª–∏ –¥–∞:
  - [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–µ—Ä–≤–∏—Å‚Äë–≤–æ—Ä–∫–µ—Ä –¥–ª—è push.
  - [x] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —á–µ—Ä–µ–∑ `/notifications/device-tokens/` c `platform = 'web'` –∏ `device_info`.

---

## –≠–¢–ê–ü W7: –ü–†–û–§–ò–õ–¨, –ù–ê–°–¢–†–û–ô–ö–ò, –û–§–§–õ–ê–ô–ù-–û–ß–ï–†–ï–î–¨ <a name="—ç—Ç–∞–ø-w7"></a>

### W7.1 –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [x] –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/profile`:
  - [x] –ö–∞—Ä—Ç–æ—á–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: –∏–Ω–∏—Ü–∏–∞–ª—ã, –§–ò–û, —Ä–æ–ª—å, email, —Ç–µ–ª–µ—Ñ–æ–Ω.
  - [x] –ö–Ω–æ–ø–∫–∞ ¬´–í—ã–π—Ç–∏` (–≤—ã–∑–æ–≤ `logout`, –æ—á–∏—Å—Ç–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤, —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/login`).
- [x] `/profile/password`:
  - [x] –§–æ—Ä–º–∞ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è (—Å—Ç–∞—Ä—ã–π/–Ω–æ–≤—ã–π/–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ).
  - [x] –í—ã–∑–æ–≤ `AuthApi.changePassword`.

### W7.2 –ó–∞—Ä–ø–ª–∞—Ç—ã –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
- [x] `/profile/salary` (–¥–ª—è `role=operator`):
  - [x] –í—ã–∑–æ–≤ `/users/operator/salary/` (–∫–∞–∫ –≤ Flutter `OperatorSalaryScreen`).
  - [x] –§–∏–ª—å—Ç—Ä –ø–æ –ø–µ—Ä–∏–æ–¥—É.
  - [x] –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤/–Ω–∞—á–∏—Å–ª–µ–Ω–∏–π, –∏—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞.

### W7.3 –û—Ñ—Ñ–ª–∞–π–Ω‚Äë–æ—á–µ—Ä–µ–¥—å
- [x] –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ª—ë–≥–∫—É—é –≤–µ—Ä—Å–∏—é –æ—Ñ—Ñ–ª–∞–π–Ω‚Äë–æ—á–µ—Ä–µ–¥–∏ –Ω–∞ –≤–µ–±–µ:
  - [x] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å IndexedDB –∏–ª–∏ localStorage –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è ¬´–Ω–µ–≤—ã—à–µ–¥—à–∏—Ö¬ª –∑–∞–ø—Ä–æ—Å–æ–≤.
  - [x] –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è: —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏, —Å–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä).
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `OfflineQueueService` (—Ñ—Ä–æ–Ω—Ç):
  - [x] API: `enqueue(action, endpoint, method, payload)`, `list()`, `remove(id)`, `retryAll()`.
  - [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å HTTP‚Äë–∫–ª–∏–µ–Ω—Ç–æ–º:
    - [x] –ü—Ä–∏ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–∫–∞—Ö (NetworkError) –¥–æ–±–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å –≤ –æ—á–µ—Ä–µ–¥—å.
    - [x] –ü—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≥–æ–Ω—è—Ç—å –æ—á–µ—Ä–µ–¥—å (–∫–∞–∫ Flutter `SyncService`).
- [x] –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/offline-queue`:
  - [x] –¢–∞–±–ª–∏—Ü–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (action, endpoint, retries, last error).
  - [x] –ö–Ω–æ–ø–∫–∏ ¬´–ü–æ–≤—Ç–æ—Ä–∏—Ç—å¬ª, ¬´–£–¥–∞–ª–∏—Ç—å¬ª, ¬´–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Å—ë¬ª.

---

## –≠–¢–ê–ü W8: PWA, –û–§–§–õ–ê–ô–ù, –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨ <a name="—ç—Ç–∞–ø-w8"></a>

### W8.1 PWA
- [x] –î–æ–±–∞–≤–∏—Ç—å –º–∞–Ω–∏—Ñ–µ—Å—Ç (`manifest.json`) –∏ –∏–∫–æ–Ω–∫–∏.
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å service worker:
  - [x] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∞—Å—Å–µ—Ç–æ–≤.
  - [x] –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è API (stale‚Äëwhile‚Äërevalidate –¥–ª—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤, network‚Äëfirst –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π).

### W8.2 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏
- [x] Lighthouse/Pagespeed:
  - [x] –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –∑–µ–ª—ë–Ω—ã—Ö LCP/TTI: PWA, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏–∫–∏ –∏ API, –æ–±–ª–µ–≥—á—ë–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã.
  - [x] Code splitting –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ä–æ—É—Ç–æ–≤ Next.js, –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ lazy‚Äëloading —Ç—è–∂—ë–ª—ã—Ö –º–æ–¥—É–ª–µ–π (–æ—Ç—á—ë—Ç—ã/–≥—Ä–∞—Ñ–∏–∫–∏).
- [x] –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª–∏—à–Ω–∏–µ —Ä–µ—Ñ–µ—Ç—á–∏ React Query, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `staleTime` –∏ ¬´—Ç–æ–Ω–∫–∏–µ¬ª –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –∏ –ø—Ä–æ—Ñ–∏–ª—å.
- [x] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã (–≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è, –µ—Å–ª–∏ –º–Ω–æ–≥–æ –∑–∞–ø–∏—Å–µ–π).

---

## –≠–¢–ê–ü W9: –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï, –ú–ò–ì–†–ê–¶–ò–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô, –†–ï–õ–ò–ó <a name="—ç—Ç–∞–ø-w9"></a>

### W9.1 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] Unit‚Äë—Ç–µ—Å—Ç—ã:
  - [x] –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤/–¥–∞—Ç/–¥–µ–Ω–µ–≥).
  - [x] –ú–∞–ø–ø–∏–Ω–≥ –º–æ–¥–µ–ª–µ–π (JSON ‚Üí TS, –æ—Å–æ–±–µ–Ω–Ω–æ Order/Finance).
- [x] Component‚Äë—Ç–µ—Å—Ç—ã (React Testing Library):
  - [x] –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —Ñ–æ—Ä–º—ã: login, create order, –æ—Ç—á—ë—Ç—ã/–∑–∞—Ä–ø–ª–∞—Ç—ã (—Ñ–∏–ª—å—Ç—Ä –ø–æ –ø–µ—Ä–∏–æ–¥—É).
- [x] E2E (Playwright/Cypress):
  - [x] –ë–∞–∑–æ–≤—ã–π flow (Playwright): smoke‚Äë—Å—Ü–µ–Ω–∞—Ä–∏–π –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞ –∏ –≥–æ—Ç–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.

### W9.2 –ú–∏–≥—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–µ–ø–ª–æ–π —Ñ—Ä–æ–Ω—Ç–∞ –≤ staging –æ–∫—Ä—É–∂–µ–Ω–∏–µ.
- [ ] –î–∞—Ç—å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –¥–æ—Å—Ç—É–ø –¥–ª—è UAT:
  - [ ] –°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –Ω–∞ UX/—Å–∫–æ—Ä–æ—Å—Ç—å.
- [ ] –ü–ª–∞–Ω cut‚Äëover:
  - [ ] –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥ Flutter Web + –Ω–æ–≤—ã–π React Web.
  - [ ] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ DNS/–º–∞—Ä—à—Ä—É—Ç–æ–≤ –Ω–∞ –Ω–æ–≤—ã–π —Ñ—Ä–æ–Ω—Ç.

### W9.3 –†–µ–ª–∏–∑ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- [x] –í–∫–ª—é—á–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ñ—Ä–æ–Ω—Ç–∞ (Sentry, Web Vitals).
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
  - [x] README –ø–æ —Ñ—Ä–æ–Ω—Ç—É: –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤.
  - [x] –û–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å backend (—Ç–∞–±–ª–∏—Ü–∞: —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ‚Üí —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã).
- [x] –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å backlog v2:
  - [x] –£–ª—É—á—à–µ–Ω–∏—è UX, –Ω–æ–≤—ã–µ –æ—Ç—á—ë—Ç—ã, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –æ—Ñ—Ñ–ª–∞–π–Ω, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ø–ª–∞—Ç—ë–∂–Ω—ã–º–∏ —à–ª—é–∑–∞–º–∏.

---

–î–æ–∫—É–º–µ–Ω—Ç —Å–ª—É–∂–∏—Ç –∫–∞–∫ **–ø–æ–ª–Ω—ã–π —á–µ–∫‚Äë–ª–∏—Å—Ç** –¥–ª—è –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ Flutter‚Äë—Ñ—Ä–æ–Ω—Ç–∞ –≤ React/Next.js –≤–µ–±‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Å—Ç—Ä–æ–≥–æ –æ–ø–∏—Ä–∞—é—â–∏–π—Å—è –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π Django backend –∏ –≤—Å—ë —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –¥–æ–º–µ–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.


