# Исправление автоматического перелогина в interceptor

## Проблема

Когда refresh token истекал, все API запросы получали 401 (Unauthorized), и приложение не пыталось выполнить автоматический перелогин с сохраненными credentials. Это приводило к множественным ошибкам 401 в консоли, даже когда сохраненные учетные данные были доступны для автоматического входа.

## Решение

Добавлена логика автоматического перелогина в `AuthInterceptor`, которая срабатывает когда refresh token истек:

1. **Добавлен метод `attemptAutoLogin()` в `AuthNotifier`** - пытается автоматически залогиниться с сохраненными phone/email и password
2. **Модифицирован `AuthInterceptor.onError()`** - когда refresh token недействителен, теперь пытается выполнить автоматический перелогин, и если успешно - повторяет оригинальные запросы с новым токеном

## Изменения

### `mobile/lib/features/auth/notifiers/auth_notifier.dart`:
- Добавлен метод `attemptAutoLogin()` - пытается залогиниться с сохраненными credentials
- Возвращает `true` если вход успешен, `false` если нет сохраненных credentials или вход не удался

### `mobile/lib/core/network/interceptors/auth_interceptor.dart`:
- Когда refresh token истек, теперь вызывается `attemptAutoLogin()`
- Если автоматический перелогин успешен, все ожидающие запросы повторяются с новым токеном
- Если автоматический перелогин не удался, запросы отклоняются как и раньше

## Результат

- При истечении refresh token приложение автоматически пытается залогиниться с сохраненными credentials
- Если автоматический перелогин успешен, все API запросы продолжают работать без ошибок
- Пользователь не видит множественных ошибок 401 в консоли
- Все происходит автоматически в фоне

## Безопасность

- Login запросы используют `/token/` endpoint, который пропускается в `onRequest`, так что нет циклических зависимостей
- Только один запрос выполняет `attemptAutoLogin()` (благодаря флагу `_isRefreshing`), остальные ждут в очереди
- Если автоматический перелогин не удался, запросы корректно отклоняются

