# üö® –ë–´–°–¢–†–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´ GRADLE

## –ü—Ä–æ–±–ª–µ–º–∞
```
Could not move temporary workspace (...) to immutable location
```

## ‚ö° –†–ï–®–ï–ù–ò–ï #1: –î–æ–±–∞–≤—å—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å (–°–ê–ú–û–ï –í–ê–ñ–ù–û–ï!)

**–≠—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã –≤ 90% —Å–ª—É—á–∞–µ–≤!**

–î–æ–±–∞–≤—å—Ç–µ –≤ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–∞:
- `C:\Users\–ê–ª–∏—Ö–∞–Ω\.gradle`
- `C:\Users\–ê–ª–∏—Ö–∞–Ω\.android`  
- `C:\ringo-uchet\mobile`

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–º–ø—å—é—Ç–µ—Ä –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.

## ‚ö° –†–ï–®–ï–ù–ò–ï #2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º –∫—ç—à–µ–º

```powershell
cd C:\ringo-uchet\mobile
powershell -ExecutionPolicy Bypass -File .\scripts\build-appbundle-fix.ps1
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫—ç—à –≤ –ø–∞–ø–∫–µ TEMP, —á—Ç–æ –æ–±—Ö–æ–¥–∏—Ç –ø—Ä–æ–±–ª–µ–º—É.

## ‚ö° –†–ï–®–ï–ù–ò–ï #3: –†—É—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∏ —Å–±–æ—Ä–∫–∞

```powershell
# 1. –ó–∞–≤–µ—Ä—à–∏—Ç–µ –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
Get-Process java -ErrorAction SilentlyContinue | Stop-Process -Force

# 2. –£–¥–∞–ª–∏—Ç–µ –∫—ç—à
Remove-Item -Path "$env:USERPROFILE\.gradle\caches\8.9\transforms" -Recurse -Force -ErrorAction SilentlyContinue

# 3. –û—á–∏—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
cd C:\ringo-uchet\mobile
flutter clean
Remove-Item -Path ".\android\.gradle" -Recurse -Force -ErrorAction SilentlyContinue

# 4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫—ç—à
$env:GRADLE_USER_HOME = "$env:TEMP\gradle-temp"
flutter build appbundle --release
```

## ‚ö° –†–ï–®–ï–ù–ò–ï #4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ WSL (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

```bash
# –í WSL
cd /mnt/c/ringo-uchet/mobile
flutter build appbundle --release
```

## ‚ö° –†–ï–®–ï–ù–ò–ï #5: –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–∞ –Ω–∞ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏

–í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç–µ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–±–æ—Ä–∫—É, –∑–∞—Ç–µ–º –≤–∫–ª—é—á–∏—Ç–µ –æ–±—Ä–∞—Ç–Ω–æ.

## ‚ö° –†–ï–®–ï–ù–ò–ï #6: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –∫—ç—à–∞ Gradle

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `C:\Users\–ê–ª–∏—Ö–∞–Ω\.gradle\gradle.properties` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

```properties
org.gradle.cache.dir=C:/gradle-cache
```

–ó–∞—Ç–µ–º —Å–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `C:\gradle-cache` –∏ –¥–æ–±–∞–≤—å—Ç–µ –µ—ë –≤ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–∞.

---

## üìù –í–∞–∂–Ω–æ!

1. **–ê–Ω—Ç–∏–≤–∏—Ä—É—Å** - —ç—Ç–æ —Å–∞–º–∞—è —á–∞—Å—Ç–∞—è –ø—Ä–∏—á–∏–Ω–∞. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–±–∞–≤—å—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è!
2. **–ó–∞–∫—Ä–æ–π—Ç–µ –≤—Å–µ IDE** –ø–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π (Android Studio, VS Code)
3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ PowerShell –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞** –µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞** –Ω–∞ –ø–∞–ø–∫—É `.gradle`

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

–ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```powershell
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã
Get-Process | Where-Object {$_.Path -like "*java*"}

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞
icacls "$env:USERPROFILE\.gradle"

# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–±—Ä–∞—Ç—å —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
cd C:\ringo-uchet\mobile\android
.\gradlew bundleRelease --stacktrace --info
```

